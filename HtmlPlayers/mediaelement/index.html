<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<title>HTML5 MediaElement - HLS</title>	
	
	<script src="js/jquery.js"></script>	
	<script src="js/mediaelement-and-player.min.js"></script>
	<link rel="stylesheet" href="style.min.css" />
</head>
<body>

<h1>MediaElementPlayer.js</h1>

<h2>HLS Wrapper</h2>

<video width="640" height="360" id="player1">
    
    <!-- Pseudo HTML5 -->
    <source type="application/x-mpegURL" src="http://172.20.16.4/mobile/pursuit/pursuit_of_happYness.m3u8" />

</video>
	
<span id="player1-mode"></span>

<h3> Test Videos </h3>
<div> The following videos should stream correctly. Each time an
issue is reported with a sample playlist, it will be added in the list
and verified after bugfixing </div>
<ul id="streamlist">
</ul>

<select id="userInput"> 
<option value="http://172.20.16.4/mobile/pursuit/pursuit_of_happYness.m3u8">В погоне за счастьем</option>
<option value="http://172.20.16.4/mobile/panda/panda.m3u8">Кунг фу панда 3</option>
<option value="http://172.20.16.4/mobile/jane/jane.m3u8">Джейн Эйр</option>
<option value="http://172.20.16.4/mobile/megamozg/megamind.m3u8">Мегамозг</option>
<option value="http://172.20.16.4/mobile/rapuntzel/rapuntel.m3u8">Рапунцель</option>
<option value="http://172.20.16.4/mobile/words/words.m3u8">Слова</option>
<option value="http://172.20.16.4/mobile/papasha/papasha.m3u8">Папаша</option>
<option value="http://172.20.16.4/mobile/protector/protector.m3u8">Защитник</option>
<option value="http://172.20.16.4/mobile/super_kelinchak/super_kelinchak.m3u8">Супер невестка</option>
<option value="http://172.20.16.4/mobile/inoy/inoy.m3u8">Иной</option>
<option value="http://172.20.16.4/mobile/operaciya_i/operaciya_i.m3u8">Операция Ы</option>
<option value="http://172.20.16.4/mobile/sogdiyona/sogdiyona.m3u8">Согдиана</option>
<option value="http://172.20.16.4/mobile/ironiya_sudbi/ironiya_sudbi.m3u8">Ирония судьбы, или с легким паром</option>
</select>
<button onclick="userSubmit()">Load and Play</button><br>
<p>

<script type="text/javascript" src="js/hls_streams.js"></script>
<script type="text/javascript">

function userSubmit() {
   var url = document.getElementById('userInput').value;
   //alert(url);
   loadStream(url);
}
function loadStream(url) {
$('video')[0].player.setSrc(url);
$('video')[0].player.play();
}

</script>


<script>

$('video').mediaelementplayer({
	success: function(media, node, player) {
		$('#' + node.id + '-mode').html('mode: ' + media.pluginType);
	}
});

</script>

</body>
</html>