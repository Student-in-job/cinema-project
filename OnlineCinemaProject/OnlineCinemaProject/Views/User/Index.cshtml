
@model IEnumerable<OnlineCinemaProject.Models.aspnetuser>

@{
    Layout = "~/Views/Shared/_Dashboard.cshtml";
    ViewBag.Title = "Пользователи";

}
<div class="row">
    <h2>Пользователи</h2>
    @{
        int counter = 1;
    }
    <span class="value">@ViewBag.noofsitesvisited</span><br>
    <span class="value">@ViewBag.onlineusers</span>

    <p>
        @Html.ActionLink("Cоздать нового", "Create")
    </p>
    <table class="table">
        <tr>
            <th>
                @Html.DisplayName("#")

            </th>
            <th>
                @Html.DisplayName("Логин")
            </th>

            <th>
                Ф.И.О.
            </th>
            @*<th>
                @Html.DisplayName("Фамилия")
            </th>*@
            <th>
                @Html.DisplayName("Дата рождения")
            </th>
            <th>
                @Html.DisplayName("Почта")
            </th>
            <th>
                @Html.DisplayName("Пол")
            </th>
            <th>
                @Html.DisplayName("Дата регистрации")
            </th>
            @*<th>
                @Html.DisplayName("Баланс")
            </th>
            <th>
                @Html.DisplayName("Тариф")
            </th>*@
            <th>
                @Html.DisplayName("Статус")
            </th>

            <th>
                @Html.DisplayName("Роли")
            </th>
            <th></th>
        </tr>


        @foreach (var item in Model)
        {
            <tr>

                <td>
                    @counter
                </td>

                <td>
                    @Html.DisplayFor(modelItem => item.UserName)
                </td>

                <td>
                    @item.FullName()
                </td>
                @*<td>
                    @Html.DisplayFor(modelItem => item.LastName)
                </td>*@
                <td>
                    @Html.DisplayFor(modelItem => item.BirthDate)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Email)
                </td>
                <td>
                    @if (item.Sex == 1)
                    {
                        @:Муж
            }
                    else
                    {
                        @:Жен

                    }
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.JoinDate)
                </td>
                @*<td>
                    @Html.DisplayFor(modelItem => item.Balance)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.tariff.name)
                </td>*@
                <td>
                    @if (item.Block == false)
                    {
                        @:Активный
        }
                    else
                    {
                        @:Блокированный
        }
                <td>
                    @foreach (var role in item.aspnetroles)
                    {
                        @role.Name
                        <br />
                    }
                </td>

                <td>
                    @Html.ActionLink("Изменить", "Edit", new { id = item.Id })@* |
                    @Html.ActionLink("Просмотреть", "Details", new { id=item.Id }) |
                        @Html.ActionLink("Удалить", "Delete", new { id=item.Id })*@
                    @*@Html.ActionLink("Профиль", "Profile", new { id = item.Id })*@
                </td>
            </tr>
                    counter = counter + 1;
        }
        @{ int adc = counter - 1; }
        <h2>Количество пользователей @adc </h2>
    </table>
</div>

CANCELFORWARD 1 DELETE 1 REPLY

